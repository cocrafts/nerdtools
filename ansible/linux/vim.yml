- name: Configure fancy NeoVim
  hosts: ec2

  tasks:
    - name: Install NeoVim
      shell: brew install --HEAD neovim
      args:
        creates: /home/linuxbrew/.linuxbrew/bin/nvim

    - name: Create symlink to neovim configure
      file:
        src: ~/nerdtools/nvim/
        dest: ~/.config/nvim
        state: link

    - name: Create .ideavimrc symlink
      template:
        src: ./templates/.ideavimrc
        dest: ~/.ideavimrc
        force: yes

    - name: Create symlink to Alacritty configure
      file:
        src: ~/nerdtools/conf/alacritty/
        dest: ~/.config/alacritty
        state: link

    - name: Create symlink to Wezterm configure
      file:
        src: ~/nerdtools/conf/wezterm/
        dest: ~/.config/wezterm
        state: link

    - name: Create revive.toml symlink for Golang
      file:
        src: ~/nerdtools/conf/revive.toml
        dest: ~/revive.toml
        state: link

    - name: Create zls.json for Zig
      file:
        src: ~/nerdtools/conf/zls.json
        dest: "~/.config/zls.json"
        state: link
